* AD8627 SPICE Macro-model                   
* Function: Amplifier
* 
* Revision History:
*
*  Rev 2.1 Derived from AD8627H., added symbol line for Simetrix 10/16
* Rev. 2.0 ADSJ-HH 4/12
*  Switched to NFETs, Corrected IVR,  
*  ??Zout, Vdo, GBW, Ibias                  
* SBxx, ADSiV apps, 01/2003, Rev 1.1 
*
* This model simulates typical values
* for the AD8627 with Vsy=+/-13V, T=25°C
* Copyright 2002, 2012, 2016 by Analog Devices, Inc.
*
* Refer to http://www.analog.com/Analog_Root/static/techSupport/designTools/spiceModels/license/spice_general.html 
* for License Statement. Use of this model indicates your acceptance
* of the terms and provisions in the License Statement.
* 
*  CAUTION!!  To aid in convergence, most Spice simulators add a
*  conductance on every node to insure that no node is floating.
*  This is GMIN, and the default value is usually 1E-12.  To properly 
*  simulate the low input bias current and low current noise, the 
*  Spice simulator options have to be set to the following:
*  .OPTIONS GMIN=0.1p
*  .OPTIONS ABSTOL=0.01pA
* 
* Node assignments
*                non-inverting input
*                | inverting input
*                | | positive supply
*                | | |  negative supply
*                | | |  |  output
*                | | |  |  |
.SUBCKT AD8625 1 2 99 50 30
*#ASSOC Category="Op-amps" symbol=opamp
*
* INPUT STAGE
*
CIN   1  2   1.5E-12
CCM1  1 50   2E-12
CCM2  2 50   2E-12
R3   99  5   2.438E+03;  3.374E+04
R4   99  6   2.438E+03;  3.374E+04
Cdd   5  6   7.4E-13
I1    4 50   60E-06
V10  99 55   DC 2.7
D10  4  55   DX
IOS  1   2   0.15E-12
EOS  7  1   POLY(1)  (98,17) 50E-6  1; CMRR 
*GN1  50   1    45  0  1E-6
*GN2  50   2    48  0  1E-6
J1   5   2    4  JX 
J2   6   7    4  JX 
*GB1  2  50    POLY(3) (4, 2) (5, 2) (50, 2)  1E-12 1E-12 1E-12 0
*GB2  7  50    POLY(3) (4, 7) (6, 7) (50, 7)  1E-12 1E-12 1E-12 0
*
* VOLTAGE NOISE GENERATOR
*
VN1  41  0    DC 1
DN1  41 42    DEN
DN2  42 43    DEN
VN2  0  43    DC 1
*
* CURRENT NOISE GENERATOR
*
* VN3  44  0    DC 1
*DN3  44 45    DIN
*DN4  45 46    DIN
*VN4  0  46    DC 1
*
* CURRENT NOISE GENERATOR
*
*VN5  47  0    DC 1
*DN5  47 48    DIN
*DN6  48 49    DIN
*VN6  0  49    DC 1
*  
* SECOND STAGE & POLE AT 21 Hz
*
R5   9  98   3.658E+08;  1.463E6
*GR5  (9,98) (9,98) 6.83527E-07;    1.463E6
C3   9  98   1.278E-11;  3.04E-09
G1   98  9   (5,6)  4.101E-04;  7.500E-03
V2   99  8   0.76
V3   10 50   0.76
D1   9   8    DX
D2   10  9    DX
*
* COMMON-MODE GAIN NETWORK 
*
E3   16 98     POLY(2)   (98, 2)  (98, 0)  1.250E-02 1.250E-02
R11  16 17     3.979E+02
C8   16 17     1.000E-06
R12  17 98     1.592E-01
*
* PSRR NETWORK
*
EPSY 72 98 POLY(1) (99,50) 0 3.95E-1
CPS3 72 73 100E-12
RPS3 72 73 1.59E6
RPS4 73 98 6.37E1
*
* POLE 
*
R13  18 98     1E3
C9   18 98    6.9E-12
G5   98 18     9  98  1E-3
*
EREF 98  0 POLY(2) (99,0) (50,0) 0 .5 .5
*EREF 98  0    24  0   1
* 
*GSY  99 50 POLY(1) (99,50) 550E-6 1.036E-6   
*
* OUTPUT STAGE
*
R16  99 29     100
R17  29 50     100
G6   27 50     18 29  1E-02;  9.09E-3
G7   28 50     29 18  1E-02;  9.09E-3
G8   29 99     99 18  1E-2
G9   50 29     18 50  1E-2
V4   25 29     0;  0.1
V5   29 26     0; 0.45
D3   18 25     DX
D4   26 18     DX
D5   99 27     DX
D6   99 28     DX
D7   50 27     DY
D8   50 28     DY
F1   29  0     V4  1
F2   0  29     V5  1
L1    29 30     1E-8; 30 is output
*
* MODELS USED
*
.MODEL JX NJF(BETA=1.400E-3 VTO=-1.0 IS=2.2E-13 RD=1m
+ RS=1m CGD=1E-12 CGS=1E-12 LAMBDA=1.0E-02)
.MODEL DX   D(IS=1E-15 RS=1 CJO=1E-12)
.MODEL DY   D(IS=1E-15 BV=50 RS=1 CJO=1E-12)
.MODEL DEN  D(IS=1E-12, RS=25e3, KF=1.08E-16, AF=1)
.MODEL DIN  D(IS=1E-12, RS=19.3E-6, KF=4.28E-15, AF=1)
.ENDS AD8625
*$
