* ADGS1212 SPICE Macro-model
* Description: SPI Interface, Low Con, Low Qinj, +/-15V Mux Configurable, QUAD SPST SWITCHES
* Generic Desc: 
* Developed by: MPorley / ADGT
* Revision History: 1.0 (8/2017)
* Copyright 2016 by Analog Devices, Inc.
*
* Refer to http://www.analog.com/Analog_Root/static/techSupport/designTools/spiceModels/license/spice_general.html for License Statement. Use of this model 
* indicates your acceptance of the terms and provisions in the License Statement.
*
* Begin Notes:
* The model is identical to the ADG1212 spice model for digital logic control with a RESET/VL pin.
* The model will work on RESET/VL level from 2.7V and 5.5V only. 
* The model will give parametric specifications at +/-15V only of the ADGS1212. Please see ADGS1212 datasheet, page 3.
* The model will work on Vdd/Vss range from +5V and +/-16.5V for single supply and +/-4.5V to +/-16.5V for dual supply operation.
* Bandwidth can be greater with 4.5pF load capacitance or lower.

* Not Modeled:
* SPI Line interface and functionality is not modeled.
* The model would instead use a parallel line interface as IN1, IN2, IN3, and IN4 to control the switches.
* Logic high means switch is On. 
* Please see Connections Section below.
* 
* Parameters modeled include:
* RESET/VL pin
* On Resistance
* Ton/Toff
* Charge Injection
* Off Isolation
* Bandwidth
* Supply Currents: Iss/Idd
* Cs/Cd Off
* On/Off Leakage
*
* Connections
*      1  = NIC
*      2  = GND
*      3  = D1
*      4  = S1
*      5  = VSS
*      6  = GND
*      7  = S4
*      8  = D4
*      9  = NIC
*      10 = NIC
*      11 = D3
*      12 = S3
*      13 = VDD
*      14 = S2
*      15 = D2
*      16 = NIC
*      17 = RESET/VL
*      18 = NIC
*      19 = NIC
*      20 = SDO  = LOGIC CONTROL FOR SWITCH 1 (S1/D1)
*      21 = CS   = LOGIC CONTROL FOR SWITCH 2 (S2/D2)
*      22 = SCLK = LOGIC CONTROL FOR SWITCH 3 (S3/D3)
*      23 = SDI  = LOGIC CONTROL FOR SWITCH 4 (S4/D4)
*      24 = NIC
****************

.SUBCKT ADGS1212 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24
.MODEL VON VSWITCH(Von=5 Voff=0.8 Ron=0.001 Roff=1000000000000)
.MODEL VOFF VSWITCH(Von=0.8 Voff=5 Ron=0.001 Roff=1000000000000)
.MODEL VEN VSWITCH(Von=5 Voff=0.8 Ron=380000 Roff=300000)
.MODEL VRESET VSWITCH(Von=5 Voff=0.8 Ron=2700000 Roff=1000)
.MODEL DCLAMP D(IS=1E-15 IBV=1E-13)

* Crosstalk
C37 4 14 0.007e-012
C36 4 12 0.007e-012
C35 14 7 0.007e-012
C34 12 14 0.007e-012
C33 7 12 0.007e-012
C32 4 7 0.007e-012

* RESET/VL
S30 17 119 17 2 VRESET
C26 119 2 2.6e-010

* GROUND
R45 6 2 1e-015

* IDD/ISS
I4 5 2 4.5e-005
I2 13 2 1e-009

** ADGS1212 SW1 **

* ESD
D4 5 3 DCLAMP
D3 3 13 DCLAMP
D2 5 4 DCLAMP
D1 4 13 DCLAMP

* OFF ISOLATION
C6 4 3 0.15e-012

* CHARGE INJECTION
C5 3 35A 2.6e-013
C4 4 35A 2.61e-013
EV35A 35A 2 35 2 1

* BANDWIDTH
C3 3 2 0.001e-013
C2 4 2 0.001e-013

* ON RESISTANCE
Ech7 34 2 VALUE = { IF (((V(26)-V(3))<-1.5) & ((V(26)-V(3))>=-9),(1.5*(V(26)-(V(3)-1.5))*(V(26)-(V(3)-1.5)))+85, 0) }
R4 109 102 0.001
Ech6 102 2 VALUE = { IF (((V(26)-V(3))>=-1.5) & ((V(26)-V(3))<6),(2.5*(V(26)-(V(3)-1.5))*(V(26)-(V(3)-1.5)))+85, 0) }
R3 109 112 0.001
Ech5 112 2 VALUE = { IF (((V(26)-V(3))<-9) ,(25-((V(3)-V(26)-9)*(15))+150), 0) }
R2 109 110 0.001
R1 51 3 110
Ech4 110 2 VALUE = { IF (((V(26)-V(3))>=6),(15-((V(26)-V(3)-9)*(25))+130), 0) }
RINA	109 2	1G
EOUTA	51 661	POLY(2) (109,2) (331,2) 0 0 0 0 0.999/1000
FCOPYA	2 331	VSENSEA 1
RSENSORA 331 2	1K
VSENSEA	661 26	0

* TON/TOFF/BBM
S5 25 26 113 2 VON
S4 114 35 114 2 VEN
Ech3 114 2 VALUE = { IF(V(20)>=2 & V(119)>2.69, 5 , 0.8 ) }
eV1 113 2 35 2 1
C1 35 2 1e-012

* POWER SUPPLY REQUIREMENT
S3 33 108 33 2 VON
Ech2 33 2 VALUE = { IF((V(5)<=-0.5 & V(5)>=-16.5) & (V(13)<=16.5 & V(13)>=4.5), 5 , 0.01 ) }
S2 103 108 103 2 VON
R5 109 34 0.001
Ech1 103 2 VALUE = { IF((V(5)<=-0.5 & V(5)>=-16.5 & (V(13)<=16.5 & V(13)>=5)), 5 , 0.01 ) }
S1 4 25 108 2 VON


** ADGS1212 SW2 **

* ESD PROTECTION DIODES
D8 5 15 DCLAMP
D7 15 13 DCLAMP
D6 5 14 DCLAMP
D5 14 13 DCLAMP

* OFF ISOLATION
C12 14 15 0.15e-012

* BANDWIDTH
C9 15 2 0.001e-012
C8 14 2 0.001e-012

* CHARGE INECTION
EV106A 106A 2 106 2 1
C11 15 106A 2.6e-013
C10 14 106A 2.6e-013

* ON RESISTANCE
Ech20 37 2 VALUE = { IF (((V(28)-V(15))<-1.5) & ((V(28)-V(15))>=-9),(1.5*(V(28)-(V(15)-1.5))*(V(28)-(V(15)-1.5)))+85, 0) }
R16 85 42 0.001
Ech19 42 2 VALUE = { IF (((V(28)-V(15))>=-1.5) & ((V(28)-V(15))<6),(2.5*(V(28)-(V(15)-1.5))*(V(28)-(V(15)-1.5)))+85, 0) }
R15 85 41 0.001
Ech18 41 2 VALUE = { IF (((V(28)-V(15))<-9) ,(25-((V(15)-V(28)-9)*(15))+150), 0) }
R14 85 40 0.001 
R13 59 15 110
Ech17 40 2 VALUE = { IF (((V(28)-V(15))>=6),(15-((V(28)-V(15)-9)*(25))+130), 0) }
RINB	85 2	1G
EOUTB	59 6B	POLY(2) (85,2) (3B,2) 0 0 0 0 0.999/1000
FCOPYB	2 3B	VSENSEB 1
RSENSORB 3B 2	1K
VSENSEB	6B 28	0

* POWER SUPPLY REQUIREMENT
S10 38 124 38 2 VON
Ech15 38 2 VALUE = { IF((V(5)<=-0.5 & V(5)>=-16.5) & (V(13)<=16.5 & V(13)>=4.5), 5 , 0.01 ) }
S9 36 124 36 2 VON
R12 85 37 0.001 
Ech14 36 2 VALUE = { IF((V(5)>=-0.5 & V(5)>=-16.5 & (V(13)<=16.5 & V(13)>=5)), 5 , 0.01 ) }
S8 14 27 124 2 VON

* TON/TOFF
S12 27 28 58 2 VON
S11 39 106 39 2 VEN
Ech16 39 2 VALUE = { IF(V(21)>=2 & V(119)>2.69, 5 , 0.8 ) }
eV2 58 2 106 2 1
C7 106 2 1e-012

** ADGS1212 SW3 **

* ESD
D12 5 11 DCLAMP
D11 11 13 DCLAMP
D10 5 12 DCLAMP
D9 12 13 DCLAMP

* OFF ISOLATION
C18 12 11 0.15e-012

* CHARGE INJECTION
C17 11 57A 2.6e-013
C16 12 57A 2.6e-013
EV57A 57A 2 57 2 1

* BANDWIDTH
C15 11 2 0.001e-012
C14 12 2 0.001e-012

* ON RESISTANCE
Ech33 61 2 VALUE = { IF (((V(30)-V(11))<-1.5) & ((V(30)-V(11))>=-9),(1.5*(V(30)-(V(11)-1.5))*(V(30)-(V(11)-1.5)))+85, 0) }
R27 55 66 0.001
Ech32 66 2 VALUE = { IF (((V(30)-V(11))>=-1.5) & ((V(30)-V(11))<6),(2.5*(V(30)-(V(11)-1.5))*(V(30)-(V(11)-1.5)))+85, 0) }
R26 55 65 0.001
Ech31 65 2 VALUE = { IF (((V(30)-V(11))<-9) ,(25-((V(11)-V(30)-9)*(15))+150), 0) }
R25 55 64 0.001 
R24 56 11 110
Ech30 64 2 VALUE = { IF (((V(30)-V(11))>=6),(15-((V(30)-V(11)-9)*(25))+130), 0) }
RINC	55 2	1G
EOUTC	56 6C	POLY(2) (55,2) (3C,2) 0 0 0 0 0.999/1000
FCOPYC	2 3C	VSENSEC 1
RSENSORC 3C 2	1K
VSENSEC	6C 30	0

* Ton/Toff
S19 29 30 82 2 VON
S18 63 57 63 2 VEN
Ech29 63 2 VALUE = { IF(V(22)>=2 & V(119)>2.69, 5 , 0.8 ) }
eV3 82 2 57 2 1
C13 57 2 1e-012

* POWER SUPPLY REQUIREMENT
S17 62 54 62 2 VON
Ech28 62 2 VALUE = { IF((V(5)<=-0.5 & V(5)>=-16.5) & (V(13)<=16.5 & V(13)>=4.5), 5 , 0.01 ) }
S16 60 54 60 2 VON
R23 55 61 0.001
Ech27 60 2 VALUE = { IF((V(5)>=-0.5 & V(5)>=-16.5 & (V(13)<=16.5 & V(13)>=5)), 5 , 0.01 ) }
S15 12 29 54 2 VON

** ADGS1212 SW4 **

* ESD
D16 5 8 DCLAMP
D15 8 13 DCLAMP
D14 5 7 DCLAMP
D13 7 13 DCLAMP

* OFF ISOLATION
C24 7 8 0.15e-012

* CHARGE INJECTION
EV105A 105A 2 105 2 1
C23 8 105A 2.6e-013
C22 7 105A 2.6e-013

* BANDWIDTH
C21 8 2 0.001e-012
C20 7 2 0.001e-012

* ON RESISTANCE
Ech46 87 2 VALUE = { IF (((V(32)-V(8))<-1.5) & ((V(32)-V(8))>=-9),(1.5*(V(32)-(V(8)-1.5))*(V(32)-(V(8)-1.5)))+85, 0) }
R38 79 92 0.001 
Ech45 92 2 VALUE = { IF (((V(32)-V(8))>=-1.5) & ((V(32)-V(8))<6),(2.5*(V(32)-(V(8)-1.5))*(V(32)-(V(8)-1.5)))+85, 0) }
R37 79 91 0.001 
Ech44 91 2 VALUE = { IF (((V(32)-V(8))<-9) ,(25-((V(8)-V(32)-9)*(15))+150), 0) }
R36 79 90 0.001
R35 80 8 110 
Ech43 90 2 VALUE = { IF (((V(32)-V(8))>=6),(15-((V(32)-V(8)-9)*(25))+130), 0) }
RIND	79 2	1G
EOUTD	80 6D	POLY(2) (79,2) (3D,2) 0 0 0 0 0.999/1000
FCOPYD	2 3D	VSENSED 1
RSENSORD 3D 2	1K
VSENSED	6D 32	0

* TON/TOFF
S26 31 32 105 2 VON
S25 89 81 89 2 VEN
Ech42 89 2 VALUE = { IF(V(23)>=2 & V(119)>2.69, 5 , 0.8 ) }
C19 81 2 1e-012
eV4 105 2 81 2 1

* POWER SUPPLY REQUIREMENT
S24 88 78 88 2 VON
Ech41 88 2 VALUE = { IF((V(5)<=-0.5 & V(5)>=-16.5) & (V(13)<=16.5 & V(13)>=4.5), 5 , 0.01 ) }
S23 86 78 86 2 VON 
R34 79 87 0.001 
Ech40 86 2 VALUE = { IF((V(5)>=-0.5 & V(5)>=-16.5 & (V(13)<=16.5 & V(13)>=5)), 5 , 0.01 ) }
S22 7 31 78 2 VON

.ENDS ADGS1212