* ADG852 SPICE Macro-model
* Generic Desc: 0.8 ohm CMOS, 1.8V to 5.5V SPDT/2:1 Mux Mini LFCSP
* Developed by: mlacida / ADGT
* Revision History: Rev. B 05/12 (9/2019)
* Copyright 2019 by Analog Devices, Inc.
*
* Refer to http://www.analog.com/Analog_Root/static/techSupport/designTools/spiceModels/license/spice_general.html for License Statement. Use of this model
* indicates your acceptance of the terms and provisions in the License Statement.
*
* Begin Notes:
* The model will work on Vdd/Vss from 1.8V to 5.5V single supply.
* The model provides parametric specifications at 2.7V to 3.6V only. Please see datasheet page 3.
*
* Please see Connections Section below.
*
* Parameters modeled include:
*	On Resistance
*	Ton and Toff
*	Break-Before-Make
*	Off Isolation
*	Crosstalk
*	Supply Currents: Iss/Idd
*	Bandwidth
*	Charge Injection
* Connections
*      1  = S1
*      2  = D1
*      3  = S2
*      4  = IN1
*      5  = VDD
*      6  = NC
*      7  = NC
*      8  = NC
*      9  = NC
*      10  = GND
*
.SUBCKT ADG852 1 2 3 4 5 10

.MODEL VON VSWITCH(Von=5 Voff=0.8 Ron=0.001 Roff=1000000000000)
.MODEL VEN VSWITCH(Von=5 Voff=0.8 Ron=380000 Roff=385000)
.MODEL VNE VSWITCH(Von=5 Voff=0.8 Ron=380000 Roff=385000)
.MODEL VRESET VSWITCH(Von=5 Voff=0.8 Ron=2700000 Roff=1000)
.MODEL DCLAMP D(IS=1E-15 IBV=1E-13)


* CROSSTALK
C12x 1 3 1e-012

* IDD/ISS
I1 5 10 0.002e-006

* Configuration: SPDT 2:1


* ESD PROTECTION DIODES DRAIN
D11 10 2 DCLAMP
D12 2 5 DCLAMP
C15 2 10 1e-012

* VOLTAGE SUPPLY REQUIREMENT
S116 11h 2 11k 10 VON
S118 11m 11k 11m 10 VON
Ech1110 11m 10 VALUE = { IF((V(10)>=-0.5 & (V(5)<=5.5 & V(5)>=1.8)), 5 , 0.01 ) }


** SWITCH 1 D1 **
*
* ESD PROTECTION DIODES SOURCE
D113 10 1 DCLAMP
D114 1 5 DCLAMP
*
* OFF ISOLATION
C111 1 2 1e-012
*
* CHARGE INJECTION
C112 2 11n 1e-011
C113 1 11n 1e-011
*
* CD/CS OFF AND BANDWIDTH
C114 1 10 1e-012
*
* ON RESISTANCE
Ech111 111a 10 VALUE = { IF ((ABS(V(1)))>(ABS(V(11g))),V(1),V(2)) }
R111 111a 10 1G
R112 a11 11h 0.001
Ech112 111b 10 VALUE = { IF (V(111a)<1,5,0) }
S111 11sa1 11sb1 111b 10 VON
Ech113 11sb1 10 VALUE = { IF (V(111a)<1,0.04*(V(111a)-1)+0.72,0) }
Ech114 111c 10 VALUE = { IF ((V(111a)>=1) & (V(111a)<=3.8),5,0) }
S112 11sa1 11sb2 111c 10 VON
Ech115 11sb2 10 VALUE = { IF ((V(111a)>=1) & (V(111a)<=3.8),((0.5-0.22)/((1-2.321)*(1-2.321)))*(V(111a)-2.321)*(V(111a)-2.321) + 0.5,0) }
Ech116 111d 10 VALUE = { IF (V(111a)>3.8,5,0) }
S113 11sa1 11sb3 111d 10 VON
Ech117 11sb3 10 VALUE = { IF (V(111a)>3.8,-5.33333333333333E-02*(V(111a)-3.8)+0.65,0) }
RIN113	11sa1 10	1G
EOUT11 a11 11e	POLY(2) (11sa1,10) (11f,10) 0 0 0 0 0.999/1000
FCOPY11	10 11f VSENSE11 1
RSENSOR11 11f 10	1K
VSENSE11 11e 11g	0
*
* TON/ TOFF/ BBM
S114 1 11g 11n 10 VON
S115 11i 11j 11i 10 VEN
Ech118 11i 10 VALUE = { IF(V(4)>=2, 5 , 0.8 ) }
eV11 11n 10 11j 10 1
C116 11j 10 0.05e-012
*

** SWITCH 2 D1 **
*
* ESD PROTECTION DIODES SOURCE
D213 10 3 DCLAMP
D214 3 5 DCLAMP
*
* OFF ISOLATION
C211 3 2 1e-012
*
* CHARGE INJECTION
C212 2 21n 1e-011
C213 3 21n 1e-011
*
* CD/CS OFF AND BANDWIDTH
C214 3 10 1e-012
*
* ON RESISTANCE
Ech211 211a 10 VALUE = { IF ((ABS(V(3)))>(ABS(V(21g))),V(3),V(2)) }
R211 211a 10 1G
R212 a21 11h 0.001
Ech212 211b 10 VALUE = { IF (V(211a)<1,5,0) }
S211 21sa1 21sb1 211b 10 VON
Ech213 21sb1 10 VALUE = { IF (V(211a)<1,0.04*(V(211a)-1)+0.72,0) }
Ech214 211c 10 VALUE = { IF ((V(211a)>=1) & (V(211a)<=3.8),5,0) }
S212 21sa1 21sb2 211c 10 VON
Ech215 21sb2 10 VALUE = { IF ((V(211a)>=1) & (V(211a)<=3.8),((0.5-0.22)/((1-2.321)*(1-2.321)))*(V(211a)-2.321)*(V(211a)-2.321) + 0.5,0) }
Ech216 211d 10 VALUE = { IF (V(211a)>3.8,5,0) }
S213 21sa1 21sb3 211d 10 VON
Ech217 21sb3 10 VALUE = { IF (V(211a)>3.8,-5.33333333333333E-02*(V(211a)-3.8)+0.65,0) }
RIN213	21sa1 10	1G
EOUT21 a21 21e	POLY(2) (21sa1,10) (21f,10) 0 0 0 0 0.999/1000
FCOPY21	10 21f VSENSE21 1
RSENSOR21 21f 10	1K
VSENSE21 21e 21g	0
*
* TON/ TOFF/ BBM
S214 3 21g 21n 10 VON
S215 21i 21j 21i 10 VNE
Ech218 21i 10 VALUE = { IF(V(4)<2, 5 , 0.8 ) }
eV21 21n 10 21j 10 1
C216 21j 10 0.05e-012
*
.ENDS ADG852
