* ADG5412F SPICE Macro-model
* Generic Desc:
* Developed by: MPorley / ADGT
* Revision History: 2.0 (7/2020) updated negative fault functions
* 					: 1.0 (1/2020)
* Copyright 2020 by Analog Devices, Inc.
*
* Refer to http://www.analog.com/Analog_Root/static/techSupport/designTools/spiceModels/license/spice_general.html for License Statement. Use of this model
* indicates your acceptance of the terms and provisions in the License Statement.
*
* Begin Notes:
* The model will work on Vdd/Vss from 8V to 44V single supply and +/-5V to +/-22V dual supply.
* The model provides parametric specifications at +/-15V only and is not variable with Vdd and Vss changes. Please see datasheet page 3.
*
* Not Modeled:
* Interrupt Flag Recovery Time with 1k Pull-up Resistor.
* Charge Injection modeled is does not provide similar value to the spec table due to bandwidth trade-off.
*
* Parameters modeled include:
*	On Resistance
*	Ton and Toff
*	Overvoltage Response and Recovery Time
*	Break-Before-Make
*	Off Isolation
*	Crosstalk
*	Supply Currents: Iss/Idd
*	Bandwidth
*	Charge Injection
* Connections
*      1  = IN1
*      2  = D1
*      3  = S1
*      4  = VSS
*      5  = GND
*      6  = S4
*      7  = D4
*      8  = IN4
*      9  = IN3
*      10  = D3
*      11  = S3
*      12  = FF
*      13  = VDD
*      14  = S2
*      15  = D2
*      16  = IN2
*
.SUBCKT ADG5412F 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16

.MODEL VON VSWITCH(Von=5 Voff=0.8 Ron=0.001 Roff=100000000)
.MODEL VEN VSWITCH(Von=5 Voff=0.8 Ron=485000 Roff=720000)
.MODEL VNE VSWITCH(Von=5 Voff=0.8 Ron=485000 Roff=720000)
.MODEL VRESET VSWITCH(Von=5 Voff=0.8 Ron=2700000 Roff=1000)
.MODEL VFF VSWITCH(Von=5 Voff=0.8 Ron=1300 Roff=900)
.MODEL VFAULT VSWITCH(Von=5 Voff=0.8 Ron=2200 Roff=1550)

*FAULT FLAG
EVF12 101_2 5 VALUE = { IF((V(3)<=V(13) & V(6)<=V(13) & V(11)<=V(13) & V(14)<=V(13)), 5, 0.1) }
EVF11 12 5 102_2 5 1
CF10 5 102_2 0.01e-009
SF11 101_2 102_2 101_2 5 VFF

* CROSSTALK
C12X 3 14 0.09E-012
C13X 3 11 0.09E-012
C14X 3 6 0.09E-012
C23X 14 11 0.09E-012
C24X 14 6 0.09E-012
C34X 11 6 0.09E-012

* IDD/ISS
I1 13 5 900E-006
I2 4 5 500E-006

* Configuration: SPST 4:4


** SWITCH 1 **
*
* OFF ISOLATION
C11 3 2 0.95E-012
*
* CHARGE INJECTION
C12 2 140 0.1E-012
C13 3 140 0.1E-012
*
* CD/CS OFF AND BANDWIDTH
C14 3 5 9E-012
C15 2 5 10e-012
*
* ON RESISTANCE
Ech155 1555 5 VALUE = { IF ((ABS(V(3)))>(ABS(V(184))),V(3),V(2)) }
R155 1555 5 1G
R11 137 2 0.001
S111 136 141 1141 5 VON
Ech111 1141 5 VALUE = { IF (V(1555)<-14,5,0) }
Ech11 141 5 VALUE = { IF (V(1555)<-14,-1.250E-02*(V(1555)--14)+21.4,0) }
S112 136 146 1146 5 VON
Ech112 1146 5 VALUE = { IF ((V(1555)>=-14) & (V(1555)<=14.5),5,0) }
Ech12 146 5 VALUE = { IF ((V(1555)>=-14) & (V(1555)<=14.5),((21.4-9)/((-14-2.808)*(-14-2.808)))*(V(1555)-2.808)*(V(1555)-2.808) + 9,0) }
S113 136 144 1144 5 VON
Ech113 1144 5 VALUE = { IF (V(1555)>14.5,5,0) }
Ech13 144 5 VALUE = { IF (V(1555)>14.5,1.333E-02*(V(1555)-14.5)+15,0) }
RIN1	136 5	1G
EOUT1 137 181	POLY(2) (136,5) (180,5) 0 0 0 0 0.999/1000
FCOPY1	5 180 VSENSE1 1
RSENSOR1 180 5	1K
VSENSE1 181 184	0
*
* TON/ TOFF/ BBM
S11 182 184 140 5 VON
S12 143 138 143 5 VEN
Ech14 143 5 VALUE = { IF(V(1)>=2.0, 5 , 0.8 ) }
eV1 140 5 138 5 1
C16 138 5 1e-012
*
* VOLTAGE SUPPLY REQUIREMENT
S13 33 182 185 5 VON
S14 142 185 142 5 VON
Ech15 142 5 VALUE = { IF((V(4)<=-0.5 & V(4)>=-22) & (V(13)<=22 & V(13)>=5), 5 , 0.01 ) }
S15 139 185 139 5 VON
Ech16 139 5 VALUE = { IF((V(4)>=-0.5 & (V(13)<=44 & V(13)>=8)), 5 , 0.01 ) }
*
*FAULT PROTECTION
EVFA10 108_1 5 VALUE = { IF(((V(3)>V(13))|(V(3)<V(4))), 0.01, 5) }
EVFA9 199_1 5 109_1 5 1
CFA9 5 109_1 0.5e-009
SFA9 108_1 109_1 108_1 5 VFAULT
SFA10 3 33 199_1 5 VON

** SWITCH 2 **
*
* OFF ISOLATION
C21 14 15 0.95E-012
*
* CHARGE INJECTION
C22 15 240 0.001E-012
C23 14 240 0.001E-012
*
* CD/CS OFF AND BANDWIDTH
C24 14 5 9E-012
C25 15 5 10e-012
*
* ON RESISTANCE
Ech255 2555 5 VALUE = { IF ((ABS(V(14)))>(ABS(V(284))),V(14),V(15)) }
R255 2555 5 1G
R21 237 15 0.001
S221 236 241 2241 5 VON
Ech221 2241 5 VALUE = { IF (V(2555)<-14,5,0) }
Ech21 241 5 VALUE = { IF (V(2555)<-14,-1.250E-02*(V(2555)--14)+21.4,0) }
S222 236 246 2246 5 VON
Ech222 2246 5 VALUE = { IF ((V(2555)>=-14) & (V(2555)<=14.5),5,0) }
Ech22 246 5 VALUE = { IF ((V(2555)>=-14) & (V(2555)<=14.5),((21.4-9)/((-14-2.808)*(-14-2.808)))*(V(2555)-2.808)*(V(2555)-2.808) + 9,0) }
S223 236 244 2244 5 VON
Ech223 2244 5 VALUE = { IF (V(2555)>14.5,5,0) }
Ech23 244 5 VALUE = { IF (V(2555)>14.5,1.333E-02*(V(2555)-14.5)+15,0) }
RIN2	236 5	1G
EOUT2 237 281	POLY(2) (236,5) (280,5) 0 0 0 0 0.999/1000
FCOPY2	5 280 VSENSE2 1
RSENSOR2 280 5	1K
VSENSE2 281 284	0
*
* TON/ TOFF/ BBM
S21 282 284 240 5 VON
S22 243 238 243 5 VEN
Ech24 243 5 VALUE = { IF(V(16)>=2.0, 5 , 0.8 ) }
eV2 240 5 238 5 1
C26 238 5 1e-012
*
* VOLTAGE SUPPLY REQUIREMENT
S23 162 282 285 5 VON
S24 242 285 242 5 VON
Ech25 242 5 VALUE = { IF((V(4)<=-0.5 & V(4)>=-22) & (V(13)<=22 & V(13)>=5), 5 , 0.01 ) }
S25 239 285 239 5 VON
Ech26 239 5 VALUE = { IF((V(4)>=-0.5 & (V(13)<=44 & V(13)>=8)), 5 , 0.01 ) }
*
*FAULT PROTECTION
EVFB10 108_2 5 VALUE = { IF(((V(14)>V(13))|(V(14)<V(4))), 0.01, 5) }
EVFB9 199_2 5 109_2 5 1
CFB9 5 109_2 0.5e-009
SFB9 108_2 109_2 108_2 5 VFAULT
SFB10 14 162 199_2 5 VON

** SWITCH 3 **
*
* OFF ISOLATION
C31 11 10 0.95E-012
*
* CHARGE INJECTION
C32 10 340 0.001E-012
C33 11 340 0.001E-012
*
* CD/CS OFF AND BANDWIDTH
C34 11 5 9E-012
C35 10 5 12e-012
*
* ON RESISTANCE
Ech355 3555 5 VALUE = { IF ((ABS(V(11)))>(ABS(V(384))),V(11),V(10)) }
R355 3555 5 1G
R31 337 10 0.001
S331 336 341 3341 5 VON
Ech331 3341 5 VALUE = { IF (V(3555)<-14,5,0) }
Ech31 341 5 VALUE = { IF (V(3555)<-14,-1.250E-02*(V(3555)--14)+21.4,0) }
S332 336 346 3346 5 VON
Ech332 3346 5 VALUE = { IF ((V(3555)>=-14) & (V(3555)<=14.5),5,0) }
Ech32 346 5 VALUE = { IF ((V(3555)>=-14) & (V(3555)<=14.5),((21.4-9)/((-14-2.808)*(-14-2.808)))*(V(3555)-2.808)*(V(3555)-2.808) + 9,0) }
S333 336 344 3344 5 VON
Ech333 3344 5 VALUE = { IF (V(3555)>14.5,5,0) }
Ech33 344 5 VALUE = { IF (V(3555)>14.5,1.333E-02*(V(3555)-14.5)+15,0) }
RIN3	336 5	1G
EOUT3 337 381	POLY(2) (336,5) (380,5) 0 0 0 0 0.999/1000
FCOPY3	5 380 VSENSE3 1
RSENSOR3 380 5	1K
VSENSE3 381 384	0
*
* TON/ TOFF/ BBM
S31 382 384 340 5 VON
S32 343 338 343 5 VEN
Ech34 343 5 VALUE = { IF(V(9)>=2.0, 5 , 0.8 ) }
eV3 340 5 338 5 1
C36 338 5 1e-012
*
* VOLTAGE SUPPLY REQUIREMENT
S33 111 382 385 5 VON
S34 342 385 342 5 VON
Ech35 342 5 VALUE = { IF((V(4)<=-0.5 & V(4)>=-22) & (V(13)<=22 & V(13)>=5), 5 , 0.01 ) }
S35 339 385 339 5 VON
Ech36 339 5 VALUE = { IF((V(4)>=-0.5 & (V(13)<=44 & V(13)>=8)), 5 , 0.01 ) }

*FAULT PROTECTION
EVFC10 108_3 5 VALUE = { IF(((V(11)>V(13))|(V(11)<V(4))), 0.01, 5) }
EVFC9 199_3 5 109_3 5 1
CFC9 109_3 5 0.5e-009
SFC9 108_3 109_3 108_3 5 VFAULT
SFC10 11 111 199_3 5 VON

** SWITCH 4 **
*
* OFF ISOLATION
C41 6 7 0.95E-012
*
* CHARGE INJECTION
C42 7 440 0.001E-012
C43 6 440 0.001E-012
*
* CD/CS OFF AND BANDWIDTH
C44 6 5 9E-012
C45 7 5 12e-012
*
* ON RESISTANCE
Ech455 4555 5 VALUE = { IF ((ABS(V(6)))>(ABS(V(484))),V(6),V(7)) }
R455 4555 5 1G
R41 437 7 0.001
S441 436 441 4441 5 VON
Ech441 4441 5 VALUE = { IF (V(4555)<-14,5,0) }
Ech41 441 5 VALUE = { IF (V(4555)<-14,-1.25E-02*(V(4555)--14)+21.4,0) }
S442 436 446 4446 5 VON
Ech442 4446 5 VALUE = { IF ((V(4555)>=-14) & (V(4555)<=14.5),5,0) }
Ech42 446 5 VALUE = { IF ((V(4555)>=-14) & (V(4555)<=14.5),((21.4-9)/((-14-2.808)*(-14-2.808)))*(V(4555)-2.808)*(V(4555)-2.808) + 9,0) }
S443 436 444 4444 5 VON
Ech443 4444 5 VALUE = { IF (V(4555)>14.5,5,0) }
Ech43 444 5 VALUE = { IF (V(4555)>14.5,1.333E-02*(V(4555)-14.5)+15,0) }
RIN4	436 5	1G
EOUT4 437 481	POLY(2) (436,5) (480,5) 0 0 0 0 0.999/1000
FCOPY4	5 480 VSENSE4 1
RSENSOR4 480 5	1K
VSENSE4 481 484	0
*
* TON/ TOFF/ BBM
S41 482 484 440 5 VON
S42 443 438 443 5 VEN
Ech44 443 5 VALUE = { IF(V(8)>=2.0, 5 , 0.8 ) }
eV4 440 5 438 5 1
C46 438 5 1e-012
*
* VOLTAGE SUPPLY REQUIREMENT
S43 66 482 485 5 VON
S44 442 485 442 5 VON
Ech45 442 5 VALUE = { IF((V(4)<=-0.5 & V(4)>=-22) & (V(13)<=22 & V(13)>=5), 5 , 0.01 ) }
S45 439 485 439 5 VON
Ech46 439 5 VALUE = { IF((V(4)>=-0.5 & (V(13)<=44 & V(13)>=8)), 5 , 0.01 ) }

*FAULT PROTECTION
EVFD10 108_4 5 VALUE = { IF((V(6)>V(13))|(V(6)<V(4)), 0.01, 5) }
EVFD9 199_4 5 109_4 5 1
CFD9 109_4 5 0.5e-009
SFD9 108_4 109_4 108_4 5 VFAULT
SFD10 6 66 199_4 5 VON

.ENDS ADG5412F
