* ADG781 SPICE Macro-model
* Generic Desc: 2.5  Quad SPST Switches in Chip Scale Package
* Developed by: mbarrien / ANALOG
* Revision History: 2.0 (8/2018) - Updated model design
* 1.0 (07/2008)
* Copyright 2018 by Analog Devices, Inc.
*
* Refer to http://www.analog.com/Analog_Root/static/techSupport/designTools/spiceModels/license/spice_general.html for License Statement. Use of this model 
* indicates your acceptance of the terms and provisions in the License Statement.
*
* Begin Notes:
* The model will work on Vdd from 0.5V to 5V single supply.
* The model provides parametric specifications at 5V only and is not variable with Vdd changes. Please see datasheet spec table.
*
* Parameters modeled include:
* On Resistance
* Ton and Toff
* Break-Before-Make
* Off Isolation
* Crosstalk
* Supply Currents: Iss/Idd
* Bandwidth
* Charge Injection
* Connections
*      1  = D1
*      2  = S1
*      3  = GND
*      4  = S4
*      5  = D4
*      6  = NIC
*      7  = IN4
*      8  = NIC
*      9  = IN3
*      10  = NIC
*      11  = D3
*      12  = S3
*      13  = VDD
*      14  = S2
*      15  = D2
*      16  = NIC
*      17  = IN2
*      18  = NIC
*      19  = IN1
*      20  = NIC
*
.SUBCKT ADG781 1 2 3 4 5 7 9 11 12 13 14 15 17 19

.MODEL VON VSWITCH(Von=5 Voff=0.8 Ron=0.001 Roff=9000000000000)
.MODEL VEN VSWITCH(Von=5 Voff=0.8 Ron=14215 Roff=790)
.MODEL VRESET VSWITCH(Von=5 Voff=0.8 Ron=2700000 Roff=1000)
.MODEL DCLAMP D(IS=1E-15 IBV=1E-13)


* CROSSTALK
C12X 2 14 9.86E-015
C13X 2 12 9.86E-015
C14X 2 4 9.86E-015
C23X 14 12 9.86E-015
C24X 14 4 9.86E-015
C34X 12 4 9.86E-015

* IDD/ISS
I1 13 3 0.001E-006

* Configuration: SPST 4:4


** SWITCH 1 **
*
* ESD PROTECTION DIODES
D11 3 1 DCLAMP
D12 1 13 DCLAMP
D13 3 2 DCLAMP
D14 2 13 DCLAMP
*
* OFF ISOLATION
C11 2 1 0.4E-012
*
* CHARGE INJECTION
C12 1 140 .726E-012
C13 2 140 .726E-012
*
* CD/CS OFF AND BANDWIDTH
C14 2 3 12.65E-012
C15 1 3 12.65E-012
*
* ON RESISTANCE
Ech155 1555 3 VALUE = { IF ((ABS(V(2)))>(ABS(V(184))),V(2),V(1)) }
R155 1555 3 1G
R11 137 1 0.001
S111 136 141 1141 3 VON
Ech111 1141 3 VALUE = { IF (V(1555)<1.2,5,0) }
Ech11 141 3 VALUE = { IF (V(1555)<1.2,0.208333333333333*(V(1555)-1.2)+2.7,0) }
S112 136 146 1146 3 VON
Ech112 1146 3 VALUE = { IF ((V(1555)>=1.2) & (V(1555)<=3.8),5,0) }
Ech12 146 3 VALUE = { IF ((V(1555)>=1.2) & (V(1555)<=3.8),((2.7-2.3)/((1.2-2.46173157302028)*(1.2-2.46173157302028)))*(V(1555)-2.46173157302028)*(V(1555)-2.46173157302028) + 2.3,0) }
S113 136 144 1144 3 VON
Ech113 1144 3 VALUE = { IF (V(1555)>3.8,5,0) }
Ech13 144 3 VALUE = { IF (V(1555)>3.8,-0.233333333333333*(V(1555)-3.8)+2.75,0) }
RIN1	136 3	1G
EOUT1 137 181	POLY(2) (136,3) (180,3) 0 0 0 0 0.999/1000
FCOPY1	3 180 VSENSE1 1
RSENSOR1 180 3	1K
VSENSE1 181 184	0
*
* TON/ TOFF/ BBM
S11 182 184 140 3 VON
S12 143 138 143 3 VEN
Ech14 143 3 VALUE = { IF(V(19)<2.4, 5 , 0.8 ) }
eV1 140 3 138 3 1
C16 138 3 1e-012
*
* VOLTAGE SUPPLY REQUIREMENT
S13 2 182 185 3 VON
S15 139 185 139 3 VON
Ech16 139 3 VALUE = { IF((V(0)>=-0.5 & (V(13)<=5 & V(13)>=0.5)), 5 , 0.01 ) }


** SWITCH 2 **
*
* ESD PROTECTION DIODES
D21 3 15 DCLAMP
D22 15 13 DCLAMP
D23 3 14 DCLAMP
D24 14 13 DCLAMP
*
* OFF ISOLATION
C21 14 15 0.4E-012
*
* CHARGE INJECTION
C22 15 240 .726E-012
C23 14 240 .726E-012
*
* CD/CS OFF AND BANDWIDTH
C24 14 3 12.65E-012
C25 15 3 12.65E-012
*
* ON RESISTANCE
Ech255 2555 3 VALUE = { IF ((ABS(V(14)))>(ABS(V(284))),V(14),V(15)) }
R255 2555 3 1G
R21 237 15 0.001
S221 236 241 2241 3 VON
Ech221 2241 3 VALUE = { IF (V(2555)<1.2,5,0) }
Ech21 241 3 VALUE = { IF (V(2555)<1.2,0.208333333333333*(V(2555)-1.2)+2.7,0) }
S222 236 246 2246 3 VON
Ech222 2246 3 VALUE = { IF ((V(2555)>=1.2) & (V(2555)<=3.8),5,0) }
Ech22 246 3 VALUE = { IF ((V(2555)>=1.2) & (V(2555)<=3.8),((2.7-2.3)/((1.2-2.46173157302028)*(1.2-2.46173157302028)))*(V(2555)-2.46173157302028)*(V(2555)-2.46173157302028) + 2.3,0) }
S223 236 244 2244 3 VON
Ech223 2244 3 VALUE = { IF (V(2555)>3.8,5,0) }
Ech23 244 3 VALUE = { IF (V(2555)>3.8,-0.233333333333333*(V(2555)-3.8)+2.75,0) }
RIN2	236 3	1G
EOUT2 237 281	POLY(2) (236,3) (280,3) 0 0 0 0 0.999/1000
FCOPY2	3 280 VSENSE2 1
RSENSOR2 280 3	1K
VSENSE2 281 284	0
*
* TON/ TOFF/ BBM
S21 282 284 240 3 VON
S22 243 238 243 3 VEN
Ech24 243 3 VALUE = { IF(V(17)<2.4, 5 , 0.8 ) }
eV2 240 3 238 3 1
C26 238 3 1e-012
*
* VOLTAGE SUPPLY REQUIREMENT
S23 14 282 285 3 VON
S25 239 285 239 3 VON
Ech26 239 3 VALUE = { IF((V(0)>=-0.5 & (V(13)<=5 & V(13)>=0.5)), 5 , 0.01 ) }


** SWITCH 3 **
*
* ESD PROTECTION DIODES
D31 3 11 DCLAMP
D32 11 13 DCLAMP
D33 3 12 DCLAMP
D34 12 13 DCLAMP
*
* OFF ISOLATION
C31 12 11 0.4E-012
*
* CHARGE INJECTION
C32 11 340 .726E-012
C33 12 340 .726E-012
*
* CD/CS OFF AND BANDWIDTH
C34 12 3 12.65E-012
C35 11 3 12.65E-012
*
* ON RESISTANCE
Ech355 3555 3 VALUE = { IF ((ABS(V(12)))>(ABS(V(384))),V(12),V(11)) }
R355 3555 3 1G
R31 337 11 0.001
S331 336 341 3341 3 VON
Ech331 3341 3 VALUE = { IF (V(3555)<1.2,5,0) }
Ech31 341 3 VALUE = { IF (V(3555)<1.2,0.208333333333333*(V(3555)-1.2)+2.7,0) }
S332 336 346 3346 3 VON
Ech332 3346 3 VALUE = { IF ((V(3555)>=1.2) & (V(3555)<=3.8),5,0) }
Ech32 346 3 VALUE = { IF ((V(3555)>=1.2) & (V(3555)<=3.8),((2.7-2.3)/((1.2-2.46173157302028)*(1.2-2.46173157302028)))*(V(3555)-2.46173157302028)*(V(3555)-2.46173157302028) + 2.3,0) }
S333 336 344 3344 3 VON
Ech333 3344 3 VALUE = { IF (V(3555)>3.8,5,0) }
Ech33 344 3 VALUE = { IF (V(3555)>3.8,-0.233333333333333*(V(3555)-3.8)+2.75,0) }
RIN3	336 3	1G
EOUT3 337 381	POLY(2) (336,3) (380,3) 0 0 0 0 0.999/1000
FCOPY3	3 380 VSENSE3 1
RSENSOR3 380 3	1K
VSENSE3 381 384	0
*
* TON/ TOFF/ BBM
S31 382 384 340 3 VON
S32 343 338 343 3 VEN
Ech34 343 3 VALUE = { IF(V(9)<2.4, 5 , 0.8 ) }
eV3 340 3 338 3 1
C36 338 3 1e-012
*
* VOLTAGE SUPPLY REQUIREMENT
S33 12 382 385 3 VON
S35 339 385 339 3 VON
Ech36 339 3 VALUE = { IF((V(0)>=-0.5 & (V(13)<=5 & V(13)>=0.5)), 5 , 0.01 ) }


** SWITCH 4 **
*
* ESD PROTECTION DIODES
D41 3 5 DCLAMP
D42 5 13 DCLAMP
D43 3 4 DCLAMP
D44 4 13 DCLAMP
*
* OFF ISOLATION
C41 4 5 0.4E-012
*
* CHARGE INJECTION
C42 5 440 .726E-012
C43 4 440 .726E-012
*
* CD/CS OFF AND BANDWIDTH
C44 4 3 12.65E-012
C45 5 3 12.65E-012
*
* ON RESISTANCE
Ech455 4555 3 VALUE = { IF ((ABS(V(4)))>(ABS(V(484))),V(4),V(5)) }
R455 4555 3 1G
R41 437 5 0.001
S441 436 441 4441 3 VON
Ech441 4441 3 VALUE = { IF (V(4555)<1.2,5,0) }
Ech41 441 3 VALUE = { IF (V(4555)<1.2,0.208333333333333*(V(4555)-1.2)+2.7,0) }
S442 436 446 4446 3 VON
Ech442 4446 3 VALUE = { IF ((V(4555)>=1.2) & (V(4555)<=3.8),5,0) }
Ech42 446 3 VALUE = { IF ((V(4555)>=1.2) & (V(4555)<=3.8),((2.7-2.3)/((1.2-2.46173157302028)*(1.2-2.46173157302028)))*(V(4555)-2.46173157302028)*(V(4555)-2.46173157302028) + 2.3,0) }
S443 436 444 4444 3 VON
Ech443 4444 3 VALUE = { IF (V(4555)>3.8,5,0) }
Ech43 444 3 VALUE = { IF (V(4555)>3.8,-0.233333333333333*(V(4555)-3.8)+2.75,0) }
RIN4	436 3	1G
EOUT4 437 481	POLY(2) (436,3) (480,3) 0 0 0 0 0.999/1000
FCOPY4	3 480 VSENSE4 1
RSENSOR4 480 3	1K
VSENSE4 481 484	0
*
* TON/ TOFF/ BBM
S41 482 484 440 3 VON
S42 443 438 443 3 VEN
Ech44 443 3 VALUE = { IF(V(7)<2.4, 5 , 0.8 ) }
eV4 440 3 438 3 1
C46 438 3 1e-012
*
* VOLTAGE SUPPLY REQUIREMENT
S43 4 482 485 3 VON
S45 439 485 439 3 VON
Ech46 439 3 VALUE = { IF((V(0)>=-0.5 & (V(13)<=5 & V(13)>=0.5)), 5 , 0.01 ) }

.ENDS ADG781
